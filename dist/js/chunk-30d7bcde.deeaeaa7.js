(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30d7bcde"],{"32d2":function(t,e,a){},7325:function(t,e,a){"use strict";var n=a("32d2"),r=a.n(n);r.a},"89a9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mapView"},[a("h1",{staticClass:"pageTitle pageBlock blockContent"},[t._v("Meteorite landings locations")]),a("div",{staticClass:"pageBlock"},[a("div",{staticClass:"blockContent"},[a("p",[t._v(" To view the meteorites fallen in area marked with the rectangle click it. ")]),a("GmapMap",{staticStyle:{height:"500px"},attrs:{id:"map",center:t.center,zoom:3,"map-type-id":"terrain"}},t._l(t.markers,(function(e){return a("GmapPolygon",{key:e.id,attrs:{paths:e.polygon,draggable:!1,editable:!1,clickable:!0,options:t.polygonOptions},on:{click:function(a){return t.markerClicked(e)}}})})),1),t.showTableView?a("div",{staticClass:"blockContent"},[a("a",{attrs:{name:"landingsTable"}}),a("div",{staticClass:"scrollableTableWrapper",attrs:{id:"mapObjectsTable"}},[this.objectsToShow.length?a("table",{staticClass:"scrollableTable"},[a("thead",[a("tr",[a("th",[t._v("ID")]),t._m(0),t._m(1),t._m(2),t._m(3),a("th",[t._v("Geolocation")]),a("th",{staticClass:"closeTableButton clickable",on:{click:function(e){t.showTableView=!1}}},[t._v("Close table")])])]),a("tbody",t._l(t.objectsToShow,(function(e){return a("tr",{key:e.id,staticClass:"clickable clkDetail",on:{click:function(a){return t.gotoDetail(e)}}},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))]),e.year?a("td",[t._v(t._s(e.year.substr(0,4)))]):a("td"),a("td",[t._v(t._s(e.mass))]),a("td",[t._v(t._s(e.recclass))]),a("td",[t._v(t._s("("+e.reclat+"°, "+e.reclong+"°)"))])])})),0)]):a("div",[a("p",[t._v("No meteorites fell in this area")]),a("button",{staticClass:"closeTableButton clickable",on:{click:function(e){t.showTableView=!1}}},[t._v("Hide message")])])])]):t._e()],1)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",[t._v("Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",[t._v("Year")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",[t._v("Mass (g)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[a("span",[t._v("Recclass")])])}],s=(a("d3b7"),a("96cf"),a("1da1"));function o(){for(var t="https://data.nasa.gov/resource/gh4g-9sfh.json",e="HPAC32pmEmvpcMVl7ERlkV1xr",a=20,n=new Array(a*a),r=-90,s=-180,o=180,i=360,c=o/a,u=i/a,p=0;p<a;p++)for(var h=0;h<a;h++){var d=r+p*c,b=r+(p+1)*c,f=s+h*u,v=s+(h+1)*u;n[p+a*h]={position:{lat:d+(b-d)/2,lng:f+(v-f)/2},objects:l(t,e,d,b,f,v),polygon:[{lat:d,lng:v},{lat:d,lng:f},{lat:b,lng:f},{lat:b,lng:v}]}}return n}function l(t,e,a,n,r,s){return i.apply(this,arguments)}function i(){return i=Object(s["a"])(regeneratorRuntime.mark((function t(e,a,n,r,s,o){var l,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e+"?$$app_token="+a+"&$where=within_polygon(geolocation, 'MULTIPOLYGON ((("+s+" "+n+", "+s+" "+r+", "+o+" "+r+", "+o+" "+n+", "+s+" "+n+")))')");case 3:return l=t.sent,t.next=6,l.json();case 6:return i=t.sent,t.abrupt("return",i);case 10:return t.prev=10,t.t0=t["catch"](0),console.log(t.t0.response),t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),i.apply(this,arguments)}var c={name:"MapView",data:function(){return{center:{lat:20,lng:10},showTableView:!1,maxZoom:7,objectsToShow:[],polygonOptions:{strokeColor:"#eee",strokeWidth:.7,strokeOpacity:.5,fillColor:"000",fillOpacity:.2}}},computed:{markers:function(){return o()},paths:function(){for(var t=[],e=0;e<this.markers.length;e++)t.push(this.markers[e].polygon);return t}},methods:{markerClicked:function(t){var e=this;this.showTableView=!0,t.objects.then((function(t){e.objectsToShow=t})),window.location.href="#landingsTable"},gotoDetail:function(t){this.$router.push({name:"Detail",params:{id:t.id}})}}},u=c,p=(a("7325"),a("2877")),h=Object(p["a"])(u,n,r,!1,null,"464b579f",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-30d7bcde.deeaeaa7.js.map